<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.5, user-scalable=yes">
    <title>全国城市天气 · 多文件拆分 · 农历日期 · 点击刷新</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
<div class="weather-card">
    <!-- 头部：城市 + 时间 -->
    <div class="card-header">
        <span class="city" id="city-name">济南</span>
        <span class="time"><span id="time-text">加载时间...</span></span>
    </div>

    <!-- 公历 + 农历日期 -->
    <div class="date-lunar">
        <span class="solar-date" id="solar-date">2026年2月12日 星期四</span>
        <span class="lunar-date" id="lunar-date">农历腊月廿六</span>
        <span class="festival-tag" id="festival-today"></span>
    </div>

    <!-- 省市联动选择器 -->
    <div class="tree-selector">
        <div style="position: relative; flex:1;">
            <input type="text" id="city-search" class="custom-select" placeholder="输入城市名称（中/英/日）..." autocomplete="off">
            <div id="search-suggestions" class="search-suggestions"></div>
        </div>
        <span id="confirm-city" class="view-btn">查看天气</span>
    </div>

    <!-- 今日主天气 -->
    <div class="weather-main">
        <div class="temp-section">
            <div class="current-temp">
                <span id="current-temp" class="temp-number">--</span><span class="temp-unit">°C</span>
            </div>
            <div class="hi-lo">
                <span class="high"><span id="high-temp">--</span>°</span>
                <span class="low"><span id="low-temp">--</span>°</span>
            </div>
        </div>
        <div class="condition-section">
            <span id="weather-icon" class="weather-icon">⏳</span>
            <span id="weather-desc" class="weather-desc">获取中</span>
        </div>
    </div>

    <!-- 9项实时指标网格 -->
    <div class="extra-grid">
        <div class="stat-item"><span class="stat-emoji">💧</span><div class="stat-label"><span class="stat-name">湿度</span><span class="stat-value"><span id="humidity-val">--</span><span class="stat-unit">%</span></span></div></div>
        <div class="stat-item"><span class="stat-emoji">💨</span><div class="stat-label"><span class="stat-name">风速</span><span class="stat-value"><span id="wind-val">--</span><span class="stat-unit">km/h</span></span></div></div>
        <div class="stat-item"><span class="stat-emoji">🌡️</span><div class="stat-label"><span class="stat-name">体感</span><span class="stat-value"><span id="feelslike-val">--</span><span class="stat-unit">°C</span></span></div></div>
        <div class="stat-item"><span class="stat-emoji">☀️</span><div class="stat-label"><span class="stat-name">紫外线</span><span class="stat-value"><span id="uv-val">--</span><span id="uv-desc" class="stat-unit">--</span></span></div></div>
        <div class="stat-item"><span class="stat-emoji">🌧️</span><div class="stat-label"><span class="stat-name">降水概率</span><span class="stat-value"><span id="precip-prob">--</span><span class="stat-unit">%</span></span></div></div>
        <div class="stat-item"><span class="stat-emoji">☁️</span><div class="stat-label"><span class="stat-name">云量</span><span class="stat-value"><span id="cloud-val">--</span><span class="stat-unit">%</span></span></div></div>
        <div class="stat-item"><span class="stat-emoji">⏲️</span><div class="stat-label"><span class="stat-name">气压</span><span class="stat-value"><span id="pressure-val">--</span><span class="stat-unit">hPa</span></span></div></div>
        <div class="stat-item"><span class="stat-emoji">👁️</span><div class="stat-label"><span class="stat-name">能见度</span><span class="stat-value"><span id="visibility-val">--</span><span class="stat-unit">km</span></span></div></div>
        <div class="stat-item"><span class="stat-emoji">💦</span><div class="stat-label"><span class="stat-name">露点</span><span class="stat-value"><span id="dewpoint-val">--</span><span class="stat-unit">°C</span></span></div></div>
    </div>

    <!-- 今日实时贴心建议 -->
    <div class="today-advice">
        <span class="today-advice-icon">💡</span>
        <span class="today-advice-text" id="today-advice-text">分析实时天气，获取今日小贴士...</span>
    </div>

    <!-- 未来5天预报（点击卡片刷新数据） -->
    <div class="forecast-section">
        <div class="section-title">未来5天 · 日期·降水概率 & 贴士（点击卡片刷新）</div>
        <div class="forecast-days" id="forecast-container"></div>
    </div>

    <!-- 脚标 -->
    <div class="footer-meta">
        <span class="source-badge">⏐ Open-Meteo 城市天气 ⏐</span>
        <span id="update-timestamp">更新于 --:--</span>
    </div>
</div>

<!-- 引入 JS 模块（注意顺序） -->
<script src="js/cities.js"></script>
<script src="js/lunar.js"></script>
<script src="js/utils.js"></script>
<script src="js/api.js"></script>
<script src="js/main.js"></script>
</body>
</html>