/* ========== çº¯åŸç”Ÿ Â· é›¶ç»„ä»¶ ========== */
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
    background: linear-gradient(145deg, #c8dbe9 0%, #b0cade 100%);
    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
    display: flex; align-items: center; justify-content: center;
    min-height: 100vh; padding: 1.5rem; margin: 0;
}
.weather-card {
    max-width: 860px; width: 100%;
    background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(8px);
    background: linear-gradient(155deg, #fbfefe 0%, #ebf5fb 100%);
    border-radius: 52px; box-shadow: 0 26px 48px -18px rgba(0,40,70,0.24), 0 8px 12px -8px rgba(0,0,0,0.04), inset 0 0 0 1px rgba(255,255,255,0.7);
    padding: 2rem 2.2rem 2.2rem; border: 1px solid rgba(255,255,255,0.6);
    transition: box-shadow 0.25s;
}
.weather-card:hover { box-shadow: 0 32px 56px -20px rgba(0,60,98,0.32); }

/* å¤´éƒ¨åŒºåŸŸ */
.card-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.3rem; }
.city { display: flex; align-items: center; gap: 4px; font-size: 1.7rem; font-weight: 660; color: #0a2c3d; }
.city::before { content: "ğŸ“"; font-size: 1.6rem; margin-right: 4px; }
.time { display: flex; align-items: center; gap: 5px; font-size: 1rem; font-weight: 520; color: #256077; background: rgba(156,208,230,0.14); padding: 0.4rem 1rem; border-radius: 50px; border: 0.5px solid rgba(60,160,210,0.2); backdrop-filter: blur(2px); }
.time::before { content: "ğŸ•’"; font-size: 1.05rem; }
#time-text { font-weight: 550; color: #105e78; }

/* æ—¥æœŸå†œå†æ˜¾ç¤º */
.date-lunar {
    margin: 0.2rem 0 0.6rem 0.2rem;
    font-size: 0.9rem;
    color: #2c6a7a;
    display: flex;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
}
.solar-date, .lunar-date {
    background: rgba(180, 215, 235, 0.2);
    padding: 0.2rem 0.9rem;
    border-radius: 30px;
    border: 0.3px solid rgba(50, 150, 200, 0.25);
    backdrop-filter: blur(2px);
}
.solar-date::before { content: "ğŸ“†"; margin-right: 5px; }
.lunar-date::before { content: "ğŸŒ™"; margin-right: 5px; }

/* æ ‘å½¢çœå¸‚è”åŠ¨é€‰æ‹©å™¨ */
.tree-selector {
    background: rgba(220, 240, 250, 0.4); backdrop-filter: blur(4px);
    border-radius: 48px; padding: 1.1rem 1.4rem; margin: 0.3rem 0 1.2rem;
    border: 0.5px solid rgba(50, 150, 210, 0.25);
    display: flex; flex-wrap: wrap; align-items: center; gap: 0.8rem;
}
.selector-label { font-size: 0.9rem; font-weight: 600; color: #1d6279; display: flex; align-items: center; gap: 4px; }
.selector-label::before { content: "ğŸ—‚ï¸"; font-size: 1.1rem; }
.custom-select {
    background: white; border: 0.5px solid rgba(40,130,180,0.3);
    border-radius: 40px; padding: 0.4rem 1.2rem; font-size: 0.9rem;
    color: #043f54; font-weight: 500; outline: none; cursor: pointer;
    backdrop-filter: blur(2px); transition: all 0.15s;
    max-width: 160px; min-width: 120px;
}
.custom-select:hover { border-color: rgba(30,150,210,0.8); background: rgba(255,255,255,0.9); }
.view-btn {
    background: rgba(40, 150, 210, 0.2); border: 0.5px solid rgba(30,130,190,0.5);
    border-radius: 40px; padding: 0.4rem 1.4rem; font-size: 0.9rem;
    font-weight: 600; color: #046880; cursor: pointer; transition: 0.1s;
    display: flex; align-items: center; gap: 4px;
}
.view-btn:hover { background: rgba(60, 170, 230, 0.3); border-color: #1a8ab0; }
.view-btn::before { content: "ğŸ”"; font-size: 0.95rem; }

/* ä»Šæ—¥ä¸»å¤©æ°” */
.weather-main { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.8rem; }
.temp-section { display: flex; flex-direction: column; }
.current-temp { display: flex; align-items: flex-start; line-height: 1; }
.temp-number { font-size: 5.6rem; font-weight: 280; color: #023344; letter-spacing: -7px; }
.temp-unit { font-size: 2.2rem; font-weight: 350; color: #32788b; margin-left: 6px; margin-top: 14px; }
.hi-lo { display: flex; gap: 1.2rem; margin-top: 0.1rem; font-size: 1.1rem; font-weight: 540; }
.high { color: #cf5e4a; display: flex; align-items: center; gap: 4px; }
.high::before { content: "â–²"; font-size: 0.9rem; color: #ea7b6b; }
.low { color: #3b80a3; display: flex; align-items: center; gap: 4px; }
.low::before { content: "â–¼"; font-size: 0.9rem; color: #57a6c7; }
.condition-section { display: flex; flex-direction: column; align-items: center; justify-content: center; background: radial-gradient(circle at 30% 30%, rgba(255,210,70,0.18) 0%, transparent 70%); padding: 0.3rem 0.8rem 0.1rem; border-radius: 80px; }
.weather-icon { font-size: 4.6rem; line-height: 1; filter: drop-shadow(0 10px 18px rgba(255,150,0,0.18)); margin-bottom: 0.1rem; }
.weather-desc { font-size: 1.1rem; font-weight: 620; color: #19586d; background: rgba(255,248,190,0.7); padding: 0.2rem 1.2rem; border-radius: 40px; letter-spacing: 0.8px; backdrop-filter: blur(2px); border: 0.3px solid rgba(255,200,80,0.5); }

/* 9é¡¹å®æ—¶æŒ‡æ ‡ç½‘æ ¼ */
.extra-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 0.9rem 1.2rem; margin: 1.3rem 0 0.2rem; }
.stat-item { display: flex; align-items: center; gap: 8px; font-size: 0.95rem; color: #125065; background: rgba(228,245,255,0.6); padding: 0.4rem 0.7rem; border-radius: 34px; backdrop-filter: blur(2px); border: 0.5px solid rgba(50,170,220,0.2); transition: all 0.1s; }
.stat-item:hover { background: rgba(210,238,255,0.9); border-color: rgba(30,150,210,0.5); }
.stat-emoji { font-size: 1.5rem; min-width: 34px; text-align: center; }
.stat-label { display: flex; flex-direction: column; line-height: 1.2; }
.stat-name { font-size: 0.65rem; font-weight: 650; text-transform: uppercase; letter-spacing: 0.04em; color: #4c798c; }
.stat-value { font-size: 1.05rem; font-weight: 680; color: #01313f; display: flex; align-items: baseline; gap: 3px; }
.stat-unit { font-size: 0.7rem; font-weight: 450; color: #46798c; margin-left: 2px; }
.divider { margin: 1.5rem 0 1.2rem; border: 0; height: 1.8px; background: linear-gradient(90deg, transparent, rgba(50,150,200,0.2), rgba(30,140,200,0.4), rgba(50,150,200,0.2), transparent); }

/* ä»Šæ—¥å®æ—¶è´´å¿ƒå»ºè®® */
.today-advice { margin: 0.6rem 0 1.4rem; background: rgba(255,235,200,0.4); backdrop-filter: blur(4px); border-radius: 48px; padding: 0.4rem 1.4rem; border: 0.5px solid rgba(255,180,60,0.35); display: flex; align-items: center; gap: 0.8rem; }
.today-advice-icon { font-size: 2rem; }
.today-advice-text { flex: 1; font-size: 0.98rem; line-height: 1.45; color: #075067; font-weight: 540; letter-spacing: 0.3px; }

/* æœªæ¥5å¤©é¢„æŠ¥ */
.forecast-section { margin-top: 0.2rem; }
.section-title { display: flex; align-items: center; gap: 8px; font-size: 1.1rem; font-weight: 620; color: #1a5268; margin-bottom: 0.9rem; }
.section-title::before { content: "ğŸ“…"; font-size: 1.3rem; }
.forecast-days { display: grid; grid-template-columns: repeat(5, 1fr); gap: 0.8rem; }
.forecast-item {
    background: rgba(255,255,255,0.6); backdrop-filter: blur(4px); border-radius: 28px;
    padding: 0.8rem 0.3rem 0.6rem; display: flex; flex-direction: column; align-items: center;
    border: 0.5px solid rgba(70,170,220,0.2); transition: all 0.15s; cursor: pointer;
}
.forecast-item:hover {
    background: rgba(245,250,255,0.95); border-color: rgba(40,150,210,0.6);
    transform: scale(1.02); box-shadow: 0 8px 15px rgba(0,100,150,0.1);
}
.forecast-weekday { font-size: 0.92rem; font-weight: 650; color: #1e657b; margin-bottom: 0.1rem; }
.forecast-date {          /* æ–°å¢ï¼šå…¬å†æ—¥æœŸ */
    font-size: 0.75rem;
    color: #2f6479;
    background: rgba(200,225,240,0.3);
    padding: 0.1rem 0.4rem;
    border-radius: 20px;
    margin-bottom: 0.1rem;
}

.forecast-icon { font-size: 2rem; line-height: 1; margin: 0.1rem 0; filter: drop-shadow(0 4px 6px rgba(0,0,0,0.04)); }
.forecast-temp { font-size: 0.95rem; font-weight: 620; color: #03485c; display: flex; gap: 0.5rem; margin-top: 0.1rem; }
.forecast-high { color: #d45a4a; }
.forecast-low { color: #3980a8; }
.forecast-precip { font-size: 0.75rem; font-weight: 580; color: #1e6a80; background: rgba(200,235,255,0.7); padding: 0.18rem 0.5rem; border-radius: 40px; margin-top: 0.2rem; display: flex; align-items: center; gap: 3px; border: 0.3px solid rgba(30,160,210,0.3); }
.forecast-advice { font-size: 0.66rem; font-weight: 550; color: #2d728b; background: rgba(255,245,210,0.7); padding: 0.22rem 0.6rem; border-radius: 60px; margin-top: 0.3rem; text-align: center; width: 100%; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; border: 0.3px solid rgba(255,180,70,0.4); }

@media (max-width: 720px) { .forecast-days { grid-template-columns: repeat(3, 1fr); } .extra-grid { grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 540px) { .weather-card { padding: 1.5rem; } .extra-grid { grid-template-columns: 1fr; } .forecast-days { grid-template-columns: repeat(2, 1fr); } }

.footer-meta { margin-top: 1.6rem; text-align: right; font-size: 0.68rem; color: #608e9e; border-top: 0.5px dashed rgba(50,160,200,0.3); padding-top: 0.8rem; display: flex; justify-content: space-between; align-items: center; }
.source-badge { background: rgba(90,180,210,0.08); padding: 0.2rem 0.8rem; border-radius: 30px; border: 0.3px solid rgba(40,150,200,0.2); }
/* å¡ç‰‡åˆ·æ–°åŠ¨ç”» */
.forecast-item.refreshing {
    opacity: 0.6;
    transition: opacity 0.2s;
    pointer-events: none; /* é˜²æ­¢é‡å¤ç‚¹å‡» */
    position: relative;
}
.forecast-item.refreshing::after {
    content: "ğŸ”„";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 1.2rem;
    background: rgba(255,255,255,0.8);
    padding: 0.2rem 0.4rem;
    border-radius: 30px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
}
/* é¢„æŠ¥å¡ç‰‡é«˜äº®ï¼ˆå½“å‰é€‰ä¸­çš„é¢„æŠ¥æ—¥ï¼‰ */
.forecast-item.active-forecast {
    background: rgba(180, 220, 250, 0.9);
    border-color: rgba(30, 140, 210, 0.9);
    box-shadow: 0 6px 12px rgba(0,120,200,0.15);
    transform: scale(1.02);
}

/* å†œå†èŠ‚æ—¥æ ‡ç­¾ */
.festival-tag {
    background: rgba(230, 100, 80, 0.15);
    border: 0.5px solid rgba(200, 80, 60, 0.3);
    border-radius: 30px;
    padding: 0.2rem 0.9rem;
    font-size: 0.85rem;
    color: #a53d30;
    backdrop-filter: blur(2px);
    display: inline-flex;
    align-items: center;
}
.festival-tag::before {
    content: "ğŸ‰";
    margin-right: 5px;
    font-size: 0.9rem;
}

/* ---------- å†œå†èŠ‚æ—¥æ ‡ç­¾ ---------- */
.festival-tag {
    background: rgba(230, 100, 80, 0.12);
    border: 0.5px solid rgba(200, 80, 60, 0.25);
    border-radius: 30px;
    padding: 0.2rem 0.9rem;
    font-size: 0.85rem;
    color: #b34a3a;
    backdrop-filter: blur(2px);
    display: inline-flex;
    align-items: center;
    gap: 4px;
}
.festival-tag::before {
    content: "ğŸ‰";
    font-size: 0.9rem;
}
/* å…¨çƒåŸå¸‚æœç´¢æ¡† */
.global-search-container {
    background: rgba(220, 240, 250, 0.4);
    backdrop-filter: blur(4px);
    border-radius: 48px;
    padding: 0.8rem 1.4rem;
    margin: 0.5rem 0 1.2rem;
    border: 0.5px solid rgba(50, 150, 210, 0.25);
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 0.8rem;
}

#city-search {
    width: 50%;
    min-width: 200px;
}

.search-suggestions {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: white;
    border-radius: 20px;
    margin-top: 4px;
    padding: 0.5rem 0;
    box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    z-index: 1000;
    max-height: 300px;
    overflow-y: auto;
    display: none;
    border: 0.5px solid rgba(60,160,210,0.3);
    backdrop-filter: blur(8px);
}

.search-suggestions div {
    padding: 0.6rem 1.2rem;
    cursor: pointer;
    font-size: 0.9rem;
    color: #04586b;
    transition: background 0.1s;
}

.search-suggestions div:hover {
    background: rgba(80, 180, 230, 0.15);
}